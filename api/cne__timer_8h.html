<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!--<meta charset="utf-8">-->
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CNDP: lib/usr/clib/timer/cne_timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="/assets/css/styles.css" rel="stylesheet" type="text/css" />
<link href="/assets/css/custom_doxygen.css" rel="stylesheet" type="text/css" />
<link href="/assets/images/favicon.png" rel="icon" type="image/x-icon">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-blue px-2">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="/" aria-label="CNDP">
    <img src="/assets/images/CNDP_logo_tiny.png" alt="CNDP">
  </a>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <div class="navbar-nav mr-auto">
      <a class="nav-link header-link" href="/blog/">Blog</a>
      <a class="nav-link header-link" href="/community/">Community</a>
      <a class="nav-link header-link" href="/dev/">Development</a>
      <a class="nav-link header-link" href="/doc/">Documentation</a>
    </div>
    <div class="navbar-nav ms-auto me-3">
      <a class="nav-link header-link" href="https://github.com/CloudNativeDataPlane/cndp">
        <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
    </div>
  </div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CNDP
   &#160;<span id="projectnumber">22.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('cne__timer_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cne_timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="cne__common_8h_source.html">cne_common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="cne__atomic_8h_source.html">cne_atomic.h</a>&gt;</code><br />
</div>
<p><a href="cne__timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncne__timer__status.html">cne_timer_status</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcne__timer__debug__stats.html">cne_timer_debug_stats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcne__timer.html">cne_timer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0c5764d68cc583de9daa489b47d08507"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a0c5764d68cc583de9daa489b47d08507">CNE_TIMER_STOP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a0c5764d68cc583de9daa489b47d08507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c07e6a14c41fa14e672eb9e72a577f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#ab9c07e6a14c41fa14e672eb9e72a577f">CNE_TIMER_PENDING</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab9c07e6a14c41fa14e672eb9e72a577f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc3dcc70642b41a32a959b5c73218ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a0bc3dcc70642b41a32a959b5c73218ec">CNE_TIMER_RUNNING</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a0bc3dcc70642b41a32a959b5c73218ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8dcdc3c6fd46c830508fa5741eec53"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a0f8dcdc3c6fd46c830508fa5741eec53">CNE_TIMER_CONFIG</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a0f8dcdc3c6fd46c830508fa5741eec53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5814607a6850df6026b64f14afa3758d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a5814607a6850df6026b64f14afa3758d">CNE_TIMER_NO_OWNER</a>&#160;&#160;&#160;-2</td></tr>
<tr class="separator:a5814607a6850df6026b64f14afa3758d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae564d1a2472d0f51623aea50e5f60c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#aae564d1a2472d0f51623aea50e5f60c2">CNE_TIMER_INITIALIZER</a></td></tr>
<tr class="separator:aae564d1a2472d0f51623aea50e5f60c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a01354c311460b9da7a1865908dbb9827"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a01354c311460b9da7a1865908dbb9827">cne_timer_cb_t</a>) (struct <a class="el" href="structcne__timer.html">cne_timer</a> *, void *)</td></tr>
<tr class="separator:a01354c311460b9da7a1865908dbb9827"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0f008a603ed1950e2e778e81201046a4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a0f008a603ed1950e2e778e81201046a4">cne_timer_type</a> </td></tr>
<tr class="separator:a0f008a603ed1950e2e778e81201046a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a903fec48fbfdd8ffc852b63c90d4d7be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a903fec48fbfdd8ffc852b63c90d4d7be">cne_timer_subsystem_init</a> (void)</td></tr>
<tr class="separator:a903fec48fbfdd8ffc852b63c90d4d7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca24cbe1db3da21efca35f6e07a8379"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#abca24cbe1db3da21efca35f6e07a8379">cne_timer_init</a> (struct <a class="el" href="structcne__timer.html">cne_timer</a> *tim)</td></tr>
<tr class="separator:abca24cbe1db3da21efca35f6e07a8379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b83e490659cb1f969d0d484f26f6b21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a1b83e490659cb1f969d0d484f26f6b21">cne_timer_reset</a> (struct <a class="el" href="structcne__timer.html">cne_timer</a> *tim, uint64_t ticks, enum <a class="el" href="cne__timer_8h.html#a0f008a603ed1950e2e778e81201046a4">cne_timer_type</a> type, unsigned tim_thread, <a class="el" href="cne__timer_8h.html#a01354c311460b9da7a1865908dbb9827">cne_timer_cb_t</a> fct, void *arg)</td></tr>
<tr class="separator:a1b83e490659cb1f969d0d484f26f6b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffa75e2d9177d1aad4630129736104b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a1ffa75e2d9177d1aad4630129736104b">cne_timer_reset_sync</a> (struct <a class="el" href="structcne__timer.html">cne_timer</a> *tim, uint64_t ticks, enum <a class="el" href="cne__timer_8h.html#a0f008a603ed1950e2e778e81201046a4">cne_timer_type</a> type, unsigned tim_thread, <a class="el" href="cne__timer_8h.html#a01354c311460b9da7a1865908dbb9827">cne_timer_cb_t</a> fct, void *arg)</td></tr>
<tr class="separator:a1ffa75e2d9177d1aad4630129736104b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d53f16541b4f76dfda1d84213ed2cc1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a2d53f16541b4f76dfda1d84213ed2cc1">cne_timer_stop</a> (struct <a class="el" href="structcne__timer.html">cne_timer</a> *tim)</td></tr>
<tr class="separator:a2d53f16541b4f76dfda1d84213ed2cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f8382eb00e11c5a91705d47e17ce64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#a11f8382eb00e11c5a91705d47e17ce64">cne_timer_stop_sync</a> (struct <a class="el" href="structcne__timer.html">cne_timer</a> *tim)</td></tr>
<tr class="separator:a11f8382eb00e11c5a91705d47e17ce64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f4d39cced1076e3a13a339fc22f1d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#aa3f4d39cced1076e3a13a339fc22f1d1">cne_timer_pending</a> (struct <a class="el" href="structcne__timer.html">cne_timer</a> *tim)</td></tr>
<tr class="separator:aa3f4d39cced1076e3a13a339fc22f1d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91cc6ba9dc8677cb64af35f7a9eacd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#ad91cc6ba9dc8677cb64af35f7a9eacd7">cne_timer_manage</a> (void)</td></tr>
<tr class="separator:ad91cc6ba9dc8677cb64af35f7a9eacd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc14b761eaf02adedbc59ff6f182a2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cne__timer_8h.html#aecc14b761eaf02adedbc59ff6f182a2f">cne_timer_dump_stats</a> (FILE *f)</td></tr>
<tr class="separator:aecc14b761eaf02adedbc59ff6f182a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CNE Timer</p>
<p>This library provides a timer service to CNE Data Plane execution units that allows the execution of callback functions asynchronously.</p>
<ul>
<li>Timers can be periodic or single (one-shot).</li>
<li>The timers can be loaded from one core and executed on another. This has to be specified in the call to <a class="el" href="cne__timer_8h.html#a1b83e490659cb1f969d0d484f26f6b21">cne_timer_reset()</a>.</li>
<li>High precision is possible. NOTE: this depends on the call frequency to <a class="el" href="cne__timer_8h.html#ad91cc6ba9dc8677cb64af35f7a9eacd7">cne_timer_manage()</a> that check the timer expiration for the local core.</li>
<li>If not used in an application, for improved performance, it can be disabled at compilation time by not calling the <a class="el" href="cne__timer_8h.html#ad91cc6ba9dc8677cb64af35f7a9eacd7">cne_timer_manage()</a> to improve performance.</li>
</ul>
<p>This library provides an interface to add, delete and restart a timer. The API is based on the BSD callout(9) API with a few differences.</p>
<p>See the CNE architecture documentation for more information about the design of this library. </p>

<p class="definition">Definition in file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0c5764d68cc583de9daa489b47d08507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5764d68cc583de9daa489b47d08507">&#9670;&nbsp;</a></span>CNE_TIMER_STOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNE_TIMER_STOP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer is stopped. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00043">43</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<a id="ab9c07e6a14c41fa14e672eb9e72a577f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c07e6a14c41fa14e672eb9e72a577f">&#9670;&nbsp;</a></span>CNE_TIMER_PENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNE_TIMER_PENDING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer is scheduled. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00044">44</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<a id="a0bc3dcc70642b41a32a959b5c73218ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc3dcc70642b41a32a959b5c73218ec">&#9670;&nbsp;</a></span>CNE_TIMER_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNE_TIMER_RUNNING&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer function is running. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00045">45</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<a id="a0f8dcdc3c6fd46c830508fa5741eec53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8dcdc3c6fd46c830508fa5741eec53">&#9670;&nbsp;</a></span>CNE_TIMER_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNE_TIMER_CONFIG&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer is being configured. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00046">46</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<a id="a5814607a6850df6026b64f14afa3758d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5814607a6850df6026b64f14afa3758d">&#9670;&nbsp;</a></span>CNE_TIMER_NO_OWNER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNE_TIMER_NO_OWNER&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer has no owner. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00047">47</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<a id="aae564d1a2472d0f51623aea50e5f60c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae564d1a2472d0f51623aea50e5f60c2">&#9670;&nbsp;</a></span>CNE_TIMER_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNE_TIMER_INITIALIZER</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {                                    \</div>
<div class="line">        .status = {{                     \</div>
<div class="line">            .state = <a class="code" href="cne__timer_8h.html#a0c5764d68cc583de9daa489b47d08507">CNE_TIMER_STOP</a>,     \</div>
<div class="line">            .owner = <a class="code" href="cne__timer_8h.html#a5814607a6850df6026b64f14afa3758d">CNE_TIMER_NO_OWNER</a>, \</div>
<div class="line">        }},                              \</div>
<div class="line">    }</div>
<div class="ttc" id="acne__timer_8h_html_a0c5764d68cc583de9daa489b47d08507"><div class="ttname"><a href="cne__timer_8h.html#a0c5764d68cc583de9daa489b47d08507">CNE_TIMER_STOP</a></div><div class="ttdeci">#define CNE_TIMER_STOP</div><div class="ttdef"><b>Definition:</b> <a href="cne__timer_8h_source.html#l00043">cne_timer.h:43</a></div></div>
<div class="ttc" id="acne__timer_8h_html_a5814607a6850df6026b64f14afa3758d"><div class="ttname"><a href="cne__timer_8h.html#a5814607a6850df6026b64f14afa3758d">CNE_TIMER_NO_OWNER</a></div><div class="ttdeci">#define CNE_TIMER_NO_OWNER</div><div class="ttdef"><b>Definition:</b> <a href="cne__timer_8h_source.html#l00047">cne_timer.h:47</a></div></div>
</div><!-- fragment --><p>A static initializer for a timer structure. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00110">110</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a01354c311460b9da7a1865908dbb9827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01354c311460b9da7a1865908dbb9827">&#9670;&nbsp;</a></span>cne_timer_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cne_timer_cb_t) (struct <a class="el" href="structcne__timer.html">cne_timer</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function type for timer expiry. </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00082">82</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0f008a603ed1950e2e778e81201046a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f008a603ed1950e2e778e81201046a4">&#9670;&nbsp;</a></span>cne_timer_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cne__timer_8h.html#a0f008a603ed1950e2e778e81201046a4">cne_timer_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer type: Periodic or single (one-shot). </p>

<p class="definition">Definition at line <a class="el" href="cne__timer_8h_source.html#l00052">52</a> of file <a class="el" href="cne__timer_8h_source.html">cne_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a903fec48fbfdd8ffc852b63c90d4d7be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903fec48fbfdd8ffc852b63c90d4d7be">&#9670;&nbsp;</a></span>cne_timer_subsystem_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cne_timer_subsystem_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the timer library.</p>
<p>Initializes internal variables (list, locks and so on) for the CNE timer library. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2cnet-graph_2cnet-graph_8c-example.html#a50">examples/cnet-graph/cnet-graph.c</a>, <a class="el" href="examples_2cnet-quic_2cnet-quic_8c-example.html#a44">examples/cnet-quic/cnet-quic.c</a>, and <a class="el" href="examples_2timer_2main_8c-example.html#a6">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="abca24cbe1db3da21efca35f6e07a8379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca24cbe1db3da21efca35f6e07a8379">&#9670;&nbsp;</a></span>cne_timer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cne_timer_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcne__timer.html">cne_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a timer handle.</p>
<p>The <a class="el" href="cne__timer_8h.html#abca24cbe1db3da21efca35f6e07a8379">cne_timer_init()</a> function initializes the timer handle <em>tim</em> for use. No operations can be performed on a timer before it is initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2timer_2main_8c-example.html#a7">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a1b83e490659cb1f969d0d484f26f6b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b83e490659cb1f969d0d484f26f6b21">&#9670;&nbsp;</a></span>cne_timer_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cne_timer_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcne__timer.html">cne_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="cne__timer_8h.html#a0f008a603ed1950e2e778e81201046a4">cne_timer_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>tim_thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cne__timer_8h.html#a01354c311460b9da7a1865908dbb9827">cne_timer_cb_t</a>&#160;</td>
          <td class="paramname"><em>fct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset and start the timer associated with the timer handle.</p>
<p>The <a class="el" href="cne__timer_8h.html#a1b83e490659cb1f969d0d484f26f6b21">cne_timer_reset()</a> function resets and starts the timer associated with the timer handle <em>tim</em>. When the timer expires after <em>ticks</em> HPET cycles, the function specified by <em>fct</em> will be called with the argument <em>arg</em> on core <em>tim_thread</em>.</p>
<p>If the timer associated with the timer handle is already running (in the RUNNING state), the function will fail. The user has to check the return value of the function to see if there is a chance that the timer is in the RUNNING state.</p>
<p>If the timer is being configured on another core (the CONFIG state), it will also fail.</p>
<p>If the timer is pending or stopped, it will be rescheduled with the new parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
    <tr><td class="paramname">ticks</td><td>The number of cycles (see cne_get_hpet_hz()) before the callback function is called. </td></tr>
    <tr><td class="paramname">type</td><td>The type can be either:<ul>
<li>PERIODICAL: The timer is automatically reloaded after execution (returns to the PENDING state)</li>
<li>SINGLE: The timer is one-shot, that is, the timer goes to a STOPPED state after execution. </li>
</ul>
</td></tr>
    <tr><td class="paramname">tim_thread</td><td>The ID of the thread where the timer callback function has to be executed. </td></tr>
    <tr><td class="paramname">fct</td><td>The callback function of the timer. </td></tr>
    <tr><td class="paramname">arg</td><td>The user argument of the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success; the timer is scheduled.</li>
<li>(-1): Timer is in the RUNNING or CONFIG state. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2timer_2main_8c-example.html#a8">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a1ffa75e2d9177d1aad4630129736104b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ffa75e2d9177d1aad4630129736104b">&#9670;&nbsp;</a></span>cne_timer_reset_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cne_timer_reset_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcne__timer.html">cne_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="cne__timer_8h.html#a0f008a603ed1950e2e778e81201046a4">cne_timer_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>tim_thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cne__timer_8h.html#a01354c311460b9da7a1865908dbb9827">cne_timer_cb_t</a>&#160;</td>
          <td class="paramname"><em>fct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loop until <a class="el" href="cne__timer_8h.html#a1b83e490659cb1f969d0d484f26f6b21">cne_timer_reset()</a> succeeds.</p>
<p>Reset and start the timer associated with the timer handle. Always succeed. See <a class="el" href="cne__timer_8h.html#a1b83e490659cb1f969d0d484f26f6b21">cne_timer_reset()</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
    <tr><td class="paramname">ticks</td><td>The number of cycles (see cne_get_hpet_hz()) before the callback function is called. </td></tr>
    <tr><td class="paramname">type</td><td>The type can be either:<ul>
<li>PERIODICAL: The timer is automatically reloaded after execution (returns to the PENDING state)</li>
<li>SINGLE: The timer is one-shot, that is, the timer goes to a STOPPED state after execution. </li>
</ul>
</td></tr>
    <tr><td class="paramname">tim_thread</td><td>The ID of the thread where the timer callback function has to be executed. </td></tr>
    <tr><td class="paramname">fct</td><td>The callback function of the timer. </td></tr>
    <tr><td class="paramname">arg</td><td>The user argument of the callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2d53f16541b4f76dfda1d84213ed2cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d53f16541b4f76dfda1d84213ed2cc1">&#9670;&nbsp;</a></span>cne_timer_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cne_timer_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcne__timer.html">cne_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop a timer.</p>
<p>The <a class="el" href="cne__timer_8h.html#a2d53f16541b4f76dfda1d84213ed2cc1">cne_timer_stop()</a> function stops the timer associated with the timer handle <em>tim</em>. It may fail if the timer is currently running or being configured.</p>
<p>If the timer is pending or stopped (for instance, already expired), the function will succeed. The timer handle tim must have been initialized using <a class="el" href="cne__timer_8h.html#abca24cbe1db3da21efca35f6e07a8379">cne_timer_init()</a>, otherwise, undefined behavior will occur.</p>
<p>This function can be called safely from a timer callback. If it succeeds, the timer is not referenced anymore by the timer library and the timer structure can be freed (even in the callback function).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success; the timer is stopped.</li>
<li>(-1): The timer is in the RUNNING or CONFIG state. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2timer_2main_8c-example.html#a11">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a11f8382eb00e11c5a91705d47e17ce64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f8382eb00e11c5a91705d47e17ce64">&#9670;&nbsp;</a></span>cne_timer_stop_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cne_timer_stop_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcne__timer.html">cne_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loop until <a class="el" href="cne__timer_8h.html#a2d53f16541b4f76dfda1d84213ed2cc1">cne_timer_stop()</a> succeeds.</p>
<p>After a call to this function, the timer identified by <em>tim</em> is stopped. See <a class="el" href="cne__timer_8h.html#a2d53f16541b4f76dfda1d84213ed2cc1">cne_timer_stop()</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3f4d39cced1076e3a13a339fc22f1d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f4d39cced1076e3a13a339fc22f1d1">&#9670;&nbsp;</a></span>cne_timer_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cne_timer_pending </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcne__timer.html">cne_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test if a timer is pending.</p>
<p>The <a class="el" href="cne__timer_8h.html#aa3f4d39cced1076e3a13a339fc22f1d1">cne_timer_pending()</a> function tests the PENDING status of the timer handle <em>tim</em>. A PENDING timer is one that has been scheduled and whose function has not yet been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: The timer is not pending.</li>
<li>1: The timer is pending. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad91cc6ba9dc8677cb64af35f7a9eacd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91cc6ba9dc8677cb64af35f7a9eacd7">&#9670;&nbsp;</a></span>cne_timer_manage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cne_timer_manage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manage the timer list and execute callback functions.</p>
<p>This function must be called periodically from CNE threads main_loop(). It browses the list of pending timers and runs all timers that are expired.</p>
<p>The precision of the timer depends on the call frequency of this function. However, the more often the function is called, the more CPU resources it will use. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2timer_2main_8c-example.html#a9">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="aecc14b761eaf02adedbc59ff6f182a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc14b761eaf02adedbc59ff6f182a2f">&#9670;&nbsp;</a></span>cne_timer_dump_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cne_timer_dump_stats </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump statistics about timers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>A pointer to a file for output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2timer_2main_8c-example.html#a10">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_7bbc81032548574d2e7e9264f003edf5.html">usr</a></li><li class="navelem"><a class="el" href="dir_52d0f5cebd30a8a0290be82a9cdbea18.html">clib</a></li><li class="navelem"><a class="el" href="dir_1b40f895ec4c75ae5b5a6a43c3b27d36.html">timer</a></li><li class="navelem"><a class="el" href="cne__timer_8h.html">cne_timer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

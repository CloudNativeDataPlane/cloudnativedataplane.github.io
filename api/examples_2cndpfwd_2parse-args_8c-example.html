<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!--<meta charset="utf-8">-->
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CNDP: examples/cndpfwd/parse-args.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="/assets/css/styles.css" rel="stylesheet" type="text/css" />
<link href="/assets/css/custom_doxygen.css" rel="stylesheet" type="text/css" />
<link href="/assets/images/favicon.png" rel="icon" type="image/x-icon">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-blue px-2">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="/" aria-label="CNDP">
    <img src="/assets/images/CNDP_logo_tiny.png" alt="CNDP">
  </a>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <div class="navbar-nav mr-auto">
      <a class="nav-link header-link" href="/blog/">Blog</a>
      <a class="nav-link header-link" href="/community/">Community</a>
      <a class="nav-link header-link" href="/dev/">Development</a>
      <a class="nav-link header-link" href="/doc/">Documentation</a>
    </div>
    <div class="navbar-nav ms-auto me-3">
      <a class="nav-link header-link" href="https://github.com/CloudNativeDataPlane/cndp">
        <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
    </div>
  </div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CNDP
   &#160;<span id="projectnumber">22.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('examples_2cndpfwd_2parse-args_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/cndpfwd/parse-args.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2019-2022 Intel Corporation.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="comment">// IWYU pragma: no_include &lt;bits/getopt_core.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;pthread.h&gt;</span>           <span class="comment">// for pthread_self, pthread_setaffinity_np</span></div>
<div class="line"><span class="preprocessor">#include &lt;sched.h&gt;</span>             <span class="comment">// for cpu_set_t</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span>             <span class="comment">// for NULL, printf, EOF</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span>            <span class="comment">// for free, calloc</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span>            <span class="comment">// for getopt_long, option</span></div>
<div class="line"><span class="preprocessor">#include &lt;bsd/string.h&gt;</span>        <span class="comment">// for strlcpy</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span>            <span class="comment">// for uint64_t, uint32_t</span></div>
<div class="line"><span class="preprocessor">#include &lt;strings.h&gt;</span>           <span class="comment">// for strcasecmp</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span>            <span class="comment">// for strncmp</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cne__common_8h.html">cne_common.h</a>&gt;</span>          <span class="comment">// for MEMPOOL_CACHE_MAX_SIZE, __cne_unused</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cne__log_8h.html">cne_log.h</a>&gt;</span>             <span class="comment">// for CNE_LOG_ERR, CNE_ERR_RET, CNE_ERR</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cne__lport_8h.html">cne_lport.h</a>&gt;</span>           <span class="comment">// for lport_cfg</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cne__mmap_8h.html">cne_mmap.h</a>&gt;</span>            <span class="comment">// for mmap_addr, mmap_alloc, mmap_size, mmap_t</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="jcfg_8h.html">jcfg.h</a>&gt;</span>                <span class="comment">// for jcfg_obj_t, jcfg_umem_t, jcfg_opt_t</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="jcfg__process_8h.html">jcfg_process.h</a>&gt;</span>        <span class="comment">// for jcfg_process</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cne__thread_8h.html">cne_thread.h</a>&gt;</span>          <span class="comment">// for thread_create</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;main.h&quot;</span>        <span class="comment">// for fwd_info, fwd, app_options, get_app_mode</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">process_callback(<a name="_a0"></a><a class="code" href="structjcfg__info__s.html">jcfg_info_t</a> *j <a name="a1"></a><a class="code" href="cne__common_8h.html#a110ce74779a3879ca9ba9167c968cf27">__cne_unused</a>, <span class="keywordtype">void</span> *_obj, <span class="keywordtype">void</span> *arg, <span class="keywordtype">int</span> idx)</div>
<div class="line">{</div>
<div class="line">    <a name="_a2"></a><a class="code" href="unionjcfg__obj__t.html">jcfg_obj_t</a> obj;</div>
<div class="line">    <span class="keyword">struct </span>fwd_info *f = arg;</div>
<div class="line">    uint32_t cache_sz;</div>
<div class="line">    uint32_t total_region_cnt;</div>
<div class="line">    <span class="keywordtype">char</span> *umem_addr;</div>
<div class="line">    <span class="keywordtype">size_t</span> nlen;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!_obj)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    obj.<a name="a3"></a><a class="code" href="unionjcfg__obj__t.html#a7cc351d31e13b3f51e76e7c3728e83a5">hdr</a> = _obj;</div>
<div class="line"> </div>
<div class="line">    nlen = strnlen(obj.<a name="a4"></a><a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, MAX_STRLEN_SIZE);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a7cc351d31e13b3f51e76e7c3728e83a5">hdr</a>-&gt;cbtype) {</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a5"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3ab15e56e6c5d92d9e9a6ed4dcbf2230ec">JCFG_APPLICATION_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a6"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a6b13fc79fa1e44524da0d618055be656">JCFG_DEFAULT_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a7"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a8c36b52f98b21296f26c852b89674b5d">JCFG_OPTION_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">if</span> (!strncmp(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, PKT_API_TAG, nlen)) {</div>
<div class="line">            <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a name="a8"></a><a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a name="a9"></a><a class="code" href="structobj__value.html#ac01d03f13d89516a74109985c4240655">type</a> == STRING_OPT_TYPE) {</div>
<div class="line">                f-&gt;opts.pkt_api = obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a name="a10"></a><a class="code" href="structobj__value.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>;</div>
<div class="line">                <span class="keywordflow">if</span> (f-&gt;pkt_api == UNKNOWN_PKT_API)</div>
<div class="line">                    f-&gt;pkt_api = get_pkt_api(f-&gt;opts.pkt_api);</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, NO_METRICS_TAG, nlen)) {</div>
<div class="line">            <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ac01d03f13d89516a74109985c4240655">type</a> == BOOLEAN_OPT_TYPE)</div>
<div class="line">                f-&gt;opts.no_metrics = obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a name="a11"></a><a class="code" href="structobj__value.html#afc58e0c0df35925913174accbf1114cb">boolean</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, NO_RESTAPI_TAG, nlen)) {</div>
<div class="line">            <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ac01d03f13d89516a74109985c4240655">type</a> == BOOLEAN_OPT_TYPE)</div>
<div class="line">                f-&gt;opts.no_restapi = obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#afc58e0c0df35925913174accbf1114cb">boolean</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, ENABLE_CLI_TAG, nlen)) {</div>
<div class="line">            <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ac01d03f13d89516a74109985c4240655">type</a> == BOOLEAN_OPT_TYPE)</div>
<div class="line">                f-&gt;opts.cli = obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#afc58e0c0df35925913174accbf1114cb">boolean</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, MODE_TAG, nlen)) {</div>
<div class="line">            <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ac01d03f13d89516a74109985c4240655">type</a> == STRING_OPT_TYPE) {</div>
<div class="line">                f-&gt;opts.mode = obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>;</div>
<div class="line">                <span class="keywordflow">if</span> (f-&gt;test == UNKNOWN_TEST)</div>
<div class="line">                    f-&gt;test = get_app_mode(f-&gt;opts.mode);</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;name, UDS_PATH_TAG, nlen)) {</div>
<div class="line">            <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ac01d03f13d89516a74109985c4240655">type</a> == STRING_OPT_TYPE) {</div>
<div class="line">                f-&gt;xdp_uds = udsc_handshake(obj.<a class="code" href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">opt</a>-&gt;<a class="code" href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">val</a>.<a class="code" href="structobj__value.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>);</div>
<div class="line">                <span class="keywordflow">if</span> (f-&gt;xdp_uds == NULL)</div>
<div class="line">                    <a name="a12"></a><a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;UDS handshake failed\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a13"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3aee3a0248ca83fa6fa4a11cbe7770b420">JCFG_UMEM_TYPE</a>:</div>
<div class="line">        <span class="comment">/* Default to xskdev API if not set */</span></div>
<div class="line">        <span class="keywordflow">if</span> (f-&gt;pkt_api == UNKNOWN_PKT_API) {</div>
<div class="line">            f-&gt;pkt_api = XSKDEV_PKT_API;</div>
<div class="line">            <a name="a14"></a><a class="code" href="cne__stdio_8h.html#acb5e6a7e2a06a6e65de91e951186606d">cne_printf</a>(</div>
<div class="line">                <span class="stringliteral">&quot;[yellow]**** [magenta]API type defaulting to use [cyan]%s [magenta]APIs[]\n&quot;</span>,</div>
<div class="line">                XSKDEV_API_NAME);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        total_region_cnt = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; obj.<a name="a15"></a><a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a name="a16"></a><a class="code" href="structjcfg__umem.html#af2ff8bd84ac49642ff923abee2ed6056">region_cnt</a>; i++) {</div>
<div class="line">            region_info_t *ri = &amp;obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a name="a17"></a><a class="code" href="structjcfg__umem.html#aab8b3484b7ca6e5fdbc6f098d9be7e3d">rinfo</a>[i];</div>
<div class="line"> </div>
<div class="line">            total_region_cnt += ri-&gt;bufcnt;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (total_region_cnt != obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a name="a18"></a><a class="code" href="structjcfg__umem.html#ab380511e539f05f71b36046d1b4e40f1">bufcnt</a>)</div>
<div class="line">            <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;Total region bufcnt %d does not match UMEM bufcnt %d\n&quot;</span>,</div>
<div class="line">                        total_region_cnt / 1024, obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#ab380511e539f05f71b36046d1b4e40f1">bufcnt</a> / 1024);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* The UMEM object describes the total size of the UMEM space */</span></div>
<div class="line">        obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a name="a19"></a><a class="code" href="structjcfg__umem.html#a03b76209c26a8c940528c27ccd4a4399">mm</a> = <a name="a20"></a><a class="code" href="cne__mmap_8h.html#a7f367b78de57455c2efd48017076365b">mmap_alloc</a>(obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#ab380511e539f05f71b36046d1b4e40f1">bufcnt</a>, obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a name="a21"></a><a class="code" href="structjcfg__umem.html#a0c5c1e23020e6a7b6456d5bac50cda83">bufsz</a>, obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a name="a22"></a><a class="code" href="structjcfg__umem.html#adc9239a3a9e782a52ae58fd7b074d86d">mtype</a>);</div>
<div class="line">        <span class="keywordflow">if</span> (obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#a03b76209c26a8c940528c27ccd4a4399">mm</a> == NULL)</div>
<div class="line">            <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;**** Failed to allocate mmap memory %ld\n&quot;</span>,</div>
<div class="line">                        (uint64_t)obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#ab380511e539f05f71b36046d1b4e40f1">bufcnt</a> * (uint64_t)obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#a0c5c1e23020e6a7b6456d5bac50cda83">bufsz</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a23"></a><a class="code" href="jcfg_8h.html#a1a7d371000352669c22c1d217a29f1ca">jcfg_default_get_u32</a>(j, <span class="stringliteral">&quot;cache&quot;</span>, &amp;cache_sz))</div>
<div class="line">            cache_sz = MEMPOOL_CACHE_MAX_SIZE;</div>
<div class="line"> </div>
<div class="line">        umem_addr = <a name="a24"></a><a class="code" href="cne__mmap_8h.html#a1cb7e33dfb38045a96b994fc93f22f64">mmap_addr</a>(obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#a03b76209c26a8c940528c27ccd4a4399">mm</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Create the pktmbuf pool for each region defined */</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#af2ff8bd84ac49642ff923abee2ed6056">region_cnt</a>; i++) {</div>
<div class="line">            <a name="_a25"></a><a class="code" href="structpktmbuf__info__s.html">pktmbuf_info_t</a> *pi;</div>
<div class="line">            region_info_t *ri               = &amp;obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#aab8b3484b7ca6e5fdbc6f098d9be7e3d">rinfo</a>[i];</div>
<div class="line">            <span class="keywordtype">char</span> name[<a name="a26"></a><a class="code" href="pktmbuf_8h.html#afccd240f973cf154952fb917c9209719ac6dba7b154f603f7bf3ba71cda1b7ad6">PKTMBUF_INFO_NAME_SZ</a>] = {0};</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Find the starting memory address in UMEM for the pktmbuf_t buffers */</span></div>
<div class="line">            ri-&gt;addr = umem_addr;</div>
<div class="line">            umem_addr += (ri-&gt;bufcnt * obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#a0c5c1e23020e6a7b6456d5bac50cda83">bufsz</a>);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Initialize a pktmbuf_info_t structure for each region in the UMEM space */</span></div>
<div class="line">            pi = <a name="a27"></a><a class="code" href="pktmbuf_8h.html#ae0718571a50946ff3a9bbf29a3615aaf">pktmbuf_pool_create</a>(ri-&gt;addr, ri-&gt;bufcnt, obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#a0c5c1e23020e6a7b6456d5bac50cda83">bufsz</a>, cache_sz, NULL);</div>
<div class="line">            <span class="keywordflow">if</span> (!pi) {</div>
<div class="line">                <a name="a28"></a><a class="code" href="cne__mmap_8h.html#a30b203a0857344ce285e08166e654e5e">mmap_free</a>(obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;<a class="code" href="structjcfg__umem.html#a03b76209c26a8c940528c27ccd4a4399">mm</a>);</div>
<div class="line">                <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;pktmbuf_pool_init() failed for region %d\n&quot;</span>, i);</div>
<div class="line">            }</div>
<div class="line">            snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;%s-%d&quot;</span>, obj.<a class="code" href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>-&gt;name, i);</div>
<div class="line">            <a name="a29"></a><a class="code" href="pktmbuf_8h.html#a05eb9cdb84fce444404b5d17c7b9000a">pktmbuf_info_name_set</a>(pi, name);</div>
<div class="line"> </div>
<div class="line">            ri-&gt;pool = pi;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a30"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3abe7f7a30891a9a80bb1df4191f3c735e">JCFG_LPORT_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            <a name="_a31"></a><a class="code" href="structjcfg__lport.html">jcfg_lport_t</a> *lport = obj.<a name="a32"></a><a class="code" href="unionjcfg__obj__t.html#aa7e2bb375b43c16741ab7287608539c0">lport</a>;</div>
<div class="line">            <span class="keyword">struct </span>fwd_port *pd;</div>
<div class="line">            <a class="code" href="cne__mmap_8h.html#afad672d8a0ccece3079446bbdb802904">mmap_t</a> *mm;</div>
<div class="line">            <a name="_a33"></a><a class="code" href="structjcfg__umem.html">jcfg_umem_t</a> *umem;</div>
<div class="line">            <span class="keyword">struct </span>lport_cfg pcfg = {0};</div>
<div class="line"> </div>
<div class="line">            umem = lport-&gt;<a name="a34"></a><a class="code" href="structjcfg__lport.html#a3fa8cc3cca167b6baba4051d9d874d87">umem</a>;</div>
<div class="line">            mm   = umem-&gt;<a class="code" href="structjcfg__umem.html#a03b76209c26a8c940528c27ccd4a4399">mm</a>;</div>
<div class="line"> </div>
<div class="line">            pd = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> fwd_port));</div>
<div class="line">            <span class="keywordflow">if</span> (!pd)</div>
<div class="line">                <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;Unable to allocate fwd_port structure\n&quot;</span>);</div>
<div class="line">            lport-&gt;priv_ = pd;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (lport-&gt;<a name="a35"></a><a class="code" href="structjcfg__lport.html#a1e87af3c18a2fd36c61faf89949bdc3f">flags</a> &amp; <a name="a36"></a><a class="code" href="cne__lport_8h.html#adb0b5a84c62bb32ecf87b15a4db4e277">LPORT_SKB_MODE</a>)</div>
<div class="line">                <a class="code" href="cne__stdio_8h.html#acb5e6a7e2a06a6e65de91e951186606d">cne_printf</a>(<span class="stringliteral">&quot;[yellow]**** [green]SKB_MODE is [red]enabled[]\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (lport-&gt;<a class="code" href="structjcfg__lport.html#a1e87af3c18a2fd36c61faf89949bdc3f">flags</a> &amp; <a name="a37"></a><a class="code" href="cne__lport_8h.html#ae3c2157e5cfc94c912804fdbadc39983">LPORT_BUSY_POLLING</a>)</div>
<div class="line">                <a class="code" href="cne__stdio_8h.html#acb5e6a7e2a06a6e65de91e951186606d">cne_printf</a>(<span class="stringliteral">&quot;[yellow]**** [green]BUSY_POLLING is [red]enabled[]\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            pcfg.qid          = lport-&gt;<a name="a38"></a><a class="code" href="structjcfg__lport.html#af1a904eea044da920254226da21ce37b">qid</a>;</div>
<div class="line">            pcfg.bufsz        = umem-&gt;<a class="code" href="structjcfg__umem.html#a0c5c1e23020e6a7b6456d5bac50cda83">bufsz</a>;</div>
<div class="line">            pcfg.rx_nb_desc   = umem-&gt;<a name="a39"></a><a class="code" href="structjcfg__umem.html#aa2dbca0bed5651852fbe72ed53347628">rxdesc</a>;</div>
<div class="line">            pcfg.tx_nb_desc   = umem-&gt;<a name="a40"></a><a class="code" href="structjcfg__umem.html#ab57fb8ffbe11a35c9f7b4fdf85a518b4">txdesc</a>;</div>
<div class="line">            pcfg.umem_addr    = <a class="code" href="cne__mmap_8h.html#a1cb7e33dfb38045a96b994fc93f22f64">mmap_addr</a>(mm);</div>
<div class="line">            pcfg.umem_size    = <a name="a41"></a><a class="code" href="cne__mmap_8h.html#ad60f0c2bb32fa20e2119e7cabc30303f">mmap_size</a>(mm, NULL, NULL);</div>
<div class="line">            pcfg.pmd_opts     = lport-&gt;<a name="a42"></a><a class="code" href="structjcfg__lport.html#a70dbee6ff9465a58a53f28c3b0b8492d">pmd_opts</a>;</div>
<div class="line">            pcfg.busy_timeout = lport-&gt;<a name="a43"></a><a class="code" href="structjcfg__lport.html#a651cf9ab8c76918a36d4680325dd499f">busy_timeout</a>;</div>
<div class="line">            pcfg.busy_budget  = lport-&gt;<a name="a44"></a><a class="code" href="structjcfg__lport.html#a226687372db44df5d4abcdf987b83846">busy_budget</a>;</div>
<div class="line">            pcfg.flags        = lport-&gt;<a class="code" href="structjcfg__lport.html#a1e87af3c18a2fd36c61faf89949bdc3f">flags</a>;</div>
<div class="line">            pcfg.flags |= (umem-&gt;<a name="a45"></a><a class="code" href="structjcfg__umem.html#ad749e81bb9c9891e012d6efd1a677ce1">shared_umem</a> == 1) ? <a name="a46"></a><a class="code" href="cne__lport_8h.html#aef240659462fecf51a4952bafb176236">LPORT_SHARED_UMEM</a> : 0;</div>
<div class="line"> </div>
<div class="line">            pcfg.addr = <a name="a47"></a><a class="code" href="jcfg_8h.html#a8e711f80cbddd80dbbb1e9272985e317">jcfg_lport_region</a>(lport, &amp;pcfg.bufcnt);</div>
<div class="line">            <span class="keywordflow">if</span> (!pcfg.addr) {</div>
<div class="line">                free(pd);</div>
<div class="line">                <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;lport %s region index %d &gt;= %d or not configured correctly\n&quot;</span>,</div>
<div class="line">                            lport-&gt;name, lport-&gt;<a name="a48"></a><a class="code" href="structjcfg__lport.html#ab1043824914372d0da6fdffd6100254d">region_idx</a>, umem-&gt;<a class="code" href="structjcfg__umem.html#af2ff8bd84ac49642ff923abee2ed6056">region_cnt</a>);</div>
<div class="line">            }</div>
<div class="line">            pcfg.pi = umem-&gt;<a class="code" href="structjcfg__umem.html#aab8b3484b7ca6e5fdbc6f098d9be7e3d">rinfo</a>[lport-&gt;<a class="code" href="structjcfg__lport.html#ab1043824914372d0da6fdffd6100254d">region_idx</a>].pool;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (lport-&gt;<a class="code" href="structjcfg__lport.html#a1e87af3c18a2fd36c61faf89949bdc3f">flags</a> &amp; <a name="a49"></a><a class="code" href="cne__lport_8h.html#a9bf663cf6008947a87e74c9525b738f7">LPORT_UNPRIVILEGED</a>) {</div>
<div class="line">                <span class="keywordflow">if</span> (f-&gt;xdp_uds)</div>
<div class="line">                    pcfg.xsk_uds = f-&gt;xdp_uds;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                    <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;UDS info struct is null\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">/* Setup the mempool configuration */</span></div>
<div class="line">            strlcpy(pcfg.pmd_name, lport-&gt;<a name="a50"></a><a class="code" href="structjcfg__lport.html#ace02cbb931375d6cb914c32195e05e6f">pmd_name</a>, <span class="keyword">sizeof</span>(pcfg.pmd_name));</div>
<div class="line">            strlcpy(pcfg.ifname, lport-&gt;<a name="a51"></a><a class="code" href="structjcfg__lport.html#aaa44cfd991dfd49435b9e98988ff2580">netdev</a>, <span class="keyword">sizeof</span>(pcfg.ifname));</div>
<div class="line">            strlcpy(pcfg.name, lport-&gt;name, <span class="keyword">sizeof</span>(pcfg.name));</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">switch</span> (f-&gt;pkt_api) {</div>
<div class="line">            <span class="keywordflow">case</span> XSKDEV_PKT_API:</div>
<div class="line">                pd-&gt;xsk = <a name="a52"></a><a class="code" href="xskdev_8h.html#a1358aa0619cfd313b8f6e83a60ab2413">xskdev_socket_create</a>(&amp;pcfg);</div>
<div class="line">                <span class="keywordflow">if</span> (pd-&gt;xsk == NULL) {</div>
<div class="line">                    free(pd);</div>
<div class="line">                    <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;xskdev_port_setup(%s) failed\n&quot;</span>, lport-&gt;name);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> PKTDEV_PKT_API:</div>
<div class="line">                pd-&gt;lport = <a name="a53"></a><a class="code" href="pktdev__api_8h.html#aefbbc79841de0f4b46c98b682899da4f">pktdev_port_setup</a>(&amp;pcfg);</div>
<div class="line">                <span class="keywordflow">if</span> (pd-&gt;lport &lt; 0) {</div>
<div class="line">                    free(pd);</div>
<div class="line">                    <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;pktdev_port_setup(%s) failed\n&quot;</span>, lport-&gt;name);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;lport %s API not supported %d\n&quot;</span>, lport-&gt;name, f-&gt;pkt_api);</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span> ((0));</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a54"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3ae731f2698aedf5fe55876a93a0f07f37">JCFG_LGROUP_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a55"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a92933a312a35d770b75f95175796be4c">JCFG_THREAD_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">if</span> (!strcasecmp(<span class="stringliteral">&quot;main&quot;</span>, obj.<a name="a56"></a><a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;<a name="a57"></a><a class="code" href="structjcfg__thd.html#a964ece8138f1339f5a2e693190111fed">thread_type</a>)) { <span class="comment">/* Main thread */</span></div>
<div class="line">            pthread_setaffinity_np(pthread_self(), <span class="keyword">sizeof</span>(cpu_set_t),</div>
<div class="line">                                   &amp;obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;<a name="a58"></a><a class="code" href="structjcfg__thd.html#ad0c2c8b05cdeb757fb5c3a542b0566ec">group</a>-&gt;<a name="a59"></a><a class="code" href="structjcfg__lgroup.html#a91bb1e9325cf7ed3b748e11b66ce9e18">lcore_bitmap</a>);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<span class="stringliteral">&quot;fwd&quot;</span>, obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;<a class="code" href="structjcfg__thd.html#a964ece8138f1339f5a2e693190111fed">thread_type</a>)) {</div>
<div class="line">            <span class="keywordflow">if</span> (f-&gt;test != UNKNOWN_TEST) {</div>
<div class="line">                <span class="keyword">struct </span>thread_func_arg_t *func_arg;</div>
<div class="line">                <span class="comment">// Allocate memory for func_arg. This will be freed in thread_func.</span></div>
<div class="line">                func_arg = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> thread_func_arg_t));</div>
<div class="line">                <span class="keywordflow">if</span> (!func_arg)</div>
<div class="line">                    <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;Allocation of struct thread_func_arg_t failed\n&quot;</span>);</div>
<div class="line">                func_arg-&gt;fwd = f;</div>
<div class="line">                func_arg-&gt;thd = obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>;</div>
<div class="line">                <span class="keywordflow">if</span> (<a name="a60"></a><a class="code" href="cne__thread_8h.html#a1f3a5190db91b169980e183fe3ada2c3">thread_create</a>(obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;name, thread_func, func_arg) &lt; 0) {</div>
<div class="line">                    free(func_arg);</div>
<div class="line">                    <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;Unable to create thread %d (%s) or type %s\n&quot;</span>, idx, obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;name,</div>
<div class="line">                                obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;<a class="code" href="structjcfg__thd.html#a964ece8138f1339f5a2e693190111fed">thread_type</a>);</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">else</span></div>
<div class="line">                <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;NO MODE was configured\n&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">            <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;*** Unknown thread type &#39;%s&#39;\n&quot;</span>, obj.<a class="code" href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">thd</a>-&gt;<a class="code" href="structjcfg__thd.html#a964ece8138f1339f5a2e693190111fed">thread_type</a>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a61"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a4d83952e4a37f56043a07499429d3a0d">JCFG_USER_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a name="a62"></a><a class="code" href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3afa368ade73075638e08b53456d2b472f">JCFG_LPORT_GROUP_TYPE</a>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Long options start at 256 to distinguish from short options */</span></div>
<div class="line"><span class="preprocessor">#define OPT_NO_COLOR     &quot;no-color&quot;</span></div>
<div class="line"><span class="preprocessor">#define OPT_NO_COLOR_NUM 256</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_usage(<span class="keywordtype">char</span> *prog_name)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="cne__stdio_8h.html#acb5e6a7e2a06a6e65de91e951186606d">cne_printf</a>(<span class="stringliteral">&quot;Usage: %s [-h] [-c json_file] [-b burst] &lt;mode&gt;\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  &lt;mode&gt;         Mode types [drop | rx-only], tx-only, [lb | loopback], fwd, &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;acl-strict or acl-permissive\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -a &lt;api&gt;       The API type to use xskdev or pktdev APIs, default is xskdev.\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;                 The -a option overrides JSON file.\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -b &lt;burst&gt;     Burst size. If not present default burst size %d max %d.\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -c &lt;json-file&gt; The JSON configuration file\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -C             Wait on unix domain socket for JSON or JSON-C file\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -d             More debug stats are displayed\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -D             JCFG debug decoding\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -V             JCFG information verbose\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -P             JCFG debug parsing\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  -h             Display the help information\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;  --%-12s Disable color output\n&quot;</span>,</div>
<div class="line">               prog_name, BURST_SIZE, MAX_BURST_SIZE, OPT_NO_COLOR);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">parse_args(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv, <span class="keyword">struct</span> fwd_info *fwd)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// clang-format off</span></div>
<div class="line">    <span class="keyword">struct </span>option lgopts[] = {</div>
<div class="line">        {OPT_NO_COLOR, no_argument, NULL, OPT_NO_COLOR_NUM},</div>
<div class="line">        {NULL, 0, 0, 0}</div>
<div class="line">    };</div>
<div class="line">    <span class="comment">// clang-format on</span></div>
<div class="line">    <span class="keywordtype">int</span> opt, option_index, flags = 0;</div>
<div class="line">    <span class="keywordtype">char</span> json_file[1024] = {0};</div>
<div class="line"> </div>
<div class="line">    fwd-&gt;pkt_api = UNKNOWN_PKT_API;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set default burst size to BURST_SIZE.</span></div>
<div class="line">    fwd-&gt;burst = BURST_SIZE;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Parse the input arguments. */</span></div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        opt = getopt_long(argc, argv, <span class="stringliteral">&quot;ha:b:c:dCDPV&quot;</span>, lgopts, &amp;option_index);</div>
<div class="line">        <span class="keywordflow">if</span> (opt == EOF)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">            print_usage(argv[0]);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line">            fwd-&gt;pkt_api = get_pkt_api(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line">            fwd-&gt;burst = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (fwd-&gt;burst &lt;= 0 || fwd-&gt;burst &gt; MAX_BURST_SIZE)</div>
<div class="line">                fwd-&gt;burst = BURST_SIZE;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">            strlcpy(json_file, optarg, <span class="keyword">sizeof</span>(json_file));</div>
<div class="line">            flags |= <a name="a63"></a><a class="code" href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24a5b95d6a20f1adfaf9ea362633f693b4d">JCFG_PARSE_FILE</a>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line">            fwd-&gt;flags |= FWD_DEBUG_STATS;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line">            flags |= <a name="a64"></a><a class="code" href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24a7f32c250c5c396c2ccd24b116620e40f">JCFG_PARSE_SOCKET</a>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div>
<div class="line">            flags |= <a name="a65"></a><a class="code" href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24aeb39ba5953c0db10891c6f2ebc9f34e4">JCFG_DEBUG_DECODING</a>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line">            flags |= <a name="a66"></a><a class="code" href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24a0d08ebfed909869fa335ea7af24eb17b">JCFG_DEBUG_PARSING</a>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>:</div>
<div class="line">            flags |= <a name="a67"></a><a class="code" href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24aec6f8aac6114ae2117bd2e4c77afd05f">JCFG_INFO_VERBOSE</a>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> OPT_NO_COLOR_NUM:</div>
<div class="line">            <a name="a68"></a><a class="code" href="cne__tty_8h.html#ae36084ee393c8dca7d6f54b44fe35213">tty_disable_color</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            CNE_ERR(<span class="stringliteral">&quot;Invalid command option\n&quot;</span>);</div>
<div class="line">            print_usage(argv[0]);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (optind &lt; argc)</div>
<div class="line">        fwd-&gt;test = get_app_mode(argv[optind]);</div>
<div class="line"> </div>
<div class="line">    fwd-&gt;jinfo = <a name="a69"></a><a class="code" href="jcfg_8h.html#a11b754fe2cda6a283d96784da44dc765">jcfg_parser</a>(flags, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)json_file);</div>
<div class="line">    <span class="keywordflow">if</span> (fwd-&gt;jinfo == NULL)</div>
<div class="line">        <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;*** Did not find any configuration to use ***\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* create a thread barrier to wait on all threads init */</span></div>
<div class="line">    <span class="keywordflow">if</span> (pthread_barrier_init(&amp;fwd-&gt;barrier, NULL, jcfg_num_threads(fwd-&gt;jinfo)))</div>
<div class="line">        <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;*** Failed to initialize pthread barrier ***\n&quot;</span>);</div>
<div class="line">    fwd-&gt;barrier_inited = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a70"></a><a class="code" href="jcfg__process_8h.html#a18f684a6b94407eaa2c7b6479a4d0cf8">jcfg_process</a>(fwd-&gt;jinfo, flags, process_callback, fwd))</div>
<div class="line">        <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;*** Invalid configuration ***\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!fwd-&gt;opts.no_metrics &amp;&amp; (enable_metrics(fwd) || enable_uds_info(fwd)))</div>
<div class="line">        <a class="code" href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a>(<span class="stringliteral">&quot;*** Failed to start metrics support ***\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* enable ACL stats if we&#39;re in one of the ACL modes */</span></div>
<div class="line">    <span class="keywordflow">if</span> (fwd-&gt;test == ACL_STRICT_TEST || fwd-&gt;test == ACL_PERMISSIVE_TEST)</div>
<div class="line">        fwd-&gt;flags |= FWD_ACL_STATS;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (fwd-&gt;test == UNKNOWN_TEST) {</div>
<div class="line">        fwd-&gt;test = DROP_TEST;</div>
<div class="line">        CNE_INFO(<span class="stringliteral">&quot;*** Mode type was not set in json file or command line, use drop mode ***\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="acne__common_8h_html"><div class="ttname"><a href="cne__common_8h.html">cne_common.h</a></div></div>
<div class="ttc" id="acne__common_8h_html_a110ce74779a3879ca9ba9167c968cf27"><div class="ttname"><a href="cne__common_8h.html#a110ce74779a3879ca9ba9167c968cf27">__cne_unused</a></div><div class="ttdeci">#define __cne_unused</div><div class="ttdef"><b>Definition:</b> <a href="cne__common_8h_source.html#l00144">cne_common.h:144</a></div></div>
<div class="ttc" id="acne__log_8h_html"><div class="ttname"><a href="cne__log_8h.html">cne_log.h</a></div></div>
<div class="ttc" id="acne__log_8h_html_ac8c38301b044c47cdcdffa35550bd524"><div class="ttname"><a href="cne__log_8h.html#ac8c38301b044c47cdcdffa35550bd524">CNE_ERR_RET</a></div><div class="ttdeci">#define CNE_ERR_RET(...)</div><div class="ttdef"><b>Definition:</b> <a href="cne__log_8h_source.html#l00223">cne_log.h:223</a></div></div>
<div class="ttc" id="acne__lport_8h_html"><div class="ttname"><a href="cne__lport_8h.html">cne_lport.h</a></div></div>
<div class="ttc" id="acne__lport_8h_html_a9bf663cf6008947a87e74c9525b738f7"><div class="ttname"><a href="cne__lport_8h.html#a9bf663cf6008947a87e74c9525b738f7">LPORT_UNPRIVILEGED</a></div><div class="ttdeci">#define LPORT_UNPRIVILEGED</div><div class="ttdef"><b>Definition:</b> <a href="cne__lport_8h_source.html#l00093">cne_lport.h:93</a></div></div>
<div class="ttc" id="acne__lport_8h_html_adb0b5a84c62bb32ecf87b15a4db4e277"><div class="ttname"><a href="cne__lport_8h.html#adb0b5a84c62bb32ecf87b15a4db4e277">LPORT_SKB_MODE</a></div><div class="ttdeci">#define LPORT_SKB_MODE</div><div class="ttdef"><b>Definition:</b> <a href="cne__lport_8h_source.html#l00095">cne_lport.h:95</a></div></div>
<div class="ttc" id="acne__lport_8h_html_ae3c2157e5cfc94c912804fdbadc39983"><div class="ttname"><a href="cne__lport_8h.html#ae3c2157e5cfc94c912804fdbadc39983">LPORT_BUSY_POLLING</a></div><div class="ttdeci">#define LPORT_BUSY_POLLING</div><div class="ttdef"><b>Definition:</b> <a href="cne__lport_8h_source.html#l00096">cne_lport.h:96</a></div></div>
<div class="ttc" id="acne__lport_8h_html_aef240659462fecf51a4952bafb176236"><div class="ttname"><a href="cne__lport_8h.html#aef240659462fecf51a4952bafb176236">LPORT_SHARED_UMEM</a></div><div class="ttdeci">#define LPORT_SHARED_UMEM</div><div class="ttdef"><b>Definition:</b> <a href="cne__lport_8h_source.html#l00097">cne_lport.h:97</a></div></div>
<div class="ttc" id="acne__mmap_8h_html"><div class="ttname"><a href="cne__mmap_8h.html">cne_mmap.h</a></div></div>
<div class="ttc" id="acne__mmap_8h_html_a1cb7e33dfb38045a96b994fc93f22f64"><div class="ttname"><a href="cne__mmap_8h.html#a1cb7e33dfb38045a96b994fc93f22f64">mmap_addr</a></div><div class="ttdeci">CNDP_API void * mmap_addr(mmap_t *mm)</div></div>
<div class="ttc" id="acne__mmap_8h_html_a30b203a0857344ce285e08166e654e5e"><div class="ttname"><a href="cne__mmap_8h.html#a30b203a0857344ce285e08166e654e5e">mmap_free</a></div><div class="ttdeci">CNDP_API int mmap_free(mmap_t *mmap)</div></div>
<div class="ttc" id="acne__mmap_8h_html_a7f367b78de57455c2efd48017076365b"><div class="ttname"><a href="cne__mmap_8h.html#a7f367b78de57455c2efd48017076365b">mmap_alloc</a></div><div class="ttdeci">CNDP_API mmap_t * mmap_alloc(uint32_t bufcnt, uint32_t bufsz, mmap_type_t hugepage)</div></div>
<div class="ttc" id="acne__mmap_8h_html_ad60f0c2bb32fa20e2119e7cabc30303f"><div class="ttname"><a href="cne__mmap_8h.html#ad60f0c2bb32fa20e2119e7cabc30303f">mmap_size</a></div><div class="ttdeci">CNDP_API size_t mmap_size(mmap_t *mm, uint32_t *bufcnt, uint32_t *bufsz)</div></div>
<div class="ttc" id="acne__mmap_8h_html_afad672d8a0ccece3079446bbdb802904"><div class="ttname"><a href="cne__mmap_8h.html#afad672d8a0ccece3079446bbdb802904">mmap_t</a></div><div class="ttdeci">void mmap_t</div><div class="ttdef"><b>Definition:</b> <a href="cne__mmap_8h_source.html#l00054">cne_mmap.h:54</a></div></div>
<div class="ttc" id="acne__stdio_8h_html_acb5e6a7e2a06a6e65de91e951186606d"><div class="ttname"><a href="cne__stdio_8h.html#acb5e6a7e2a06a6e65de91e951186606d">cne_printf</a></div><div class="ttdeci">CNDP_API int cne_printf(const char *fmt,...)</div></div>
<div class="ttc" id="acne__thread_8h_html"><div class="ttname"><a href="cne__thread_8h.html">cne_thread.h</a></div></div>
<div class="ttc" id="acne__thread_8h_html_a1f3a5190db91b169980e183fe3ada2c3"><div class="ttname"><a href="cne__thread_8h.html#a1f3a5190db91b169980e183fe3ada2c3">thread_create</a></div><div class="ttdeci">CNDP_API int thread_create(const char *name, thd_func_t func, void *arg)</div></div>
<div class="ttc" id="acne__tty_8h_html_ae36084ee393c8dca7d6f54b44fe35213"><div class="ttname"><a href="cne__tty_8h.html#ae36084ee393c8dca7d6f54b44fe35213">tty_disable_color</a></div><div class="ttdeci">CNDP_API void tty_disable_color(void)</div></div>
<div class="ttc" id="ajcfg_8h_html"><div class="ttname"><a href="jcfg_8h.html">jcfg.h</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a11b754fe2cda6a283d96784da44dc765"><div class="ttname"><a href="jcfg_8h.html#a11b754fe2cda6a283d96784da44dc765">jcfg_parser</a></div><div class="ttdeci">CNDP_API jcfg_info_t * jcfg_parser(int flags, const char *s)</div></div>
<div class="ttc" id="ajcfg_8h_html_a1a7d371000352669c22c1d217a29f1ca"><div class="ttname"><a href="jcfg_8h.html#a1a7d371000352669c22c1d217a29f1ca">jcfg_default_get_u32</a></div><div class="ttdeci">static int jcfg_default_get_u32(jcfg_info_t *jinfo, const char *name, uint32_t *v)</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00520">jcfg.h:520</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a5a77d65f4abba81d4456fa6ba8136e24a0d08ebfed909869fa335ea7af24eb17b"><div class="ttname"><a href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24a0d08ebfed909869fa335ea7af24eb17b">JCFG_DEBUG_PARSING</a></div><div class="ttdeci">@ JCFG_DEBUG_PARSING</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00353">jcfg.h:353</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a5a77d65f4abba81d4456fa6ba8136e24a5b95d6a20f1adfaf9ea362633f693b4d"><div class="ttname"><a href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24a5b95d6a20f1adfaf9ea362633f693b4d">JCFG_PARSE_FILE</a></div><div class="ttdeci">@ JCFG_PARSE_FILE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00355">jcfg.h:355</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a5a77d65f4abba81d4456fa6ba8136e24a7f32c250c5c396c2ccd24b116620e40f"><div class="ttname"><a href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24a7f32c250c5c396c2ccd24b116620e40f">JCFG_PARSE_SOCKET</a></div><div class="ttdeci">@ JCFG_PARSE_SOCKET</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00356">jcfg.h:356</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a5a77d65f4abba81d4456fa6ba8136e24aeb39ba5953c0db10891c6f2ebc9f34e4"><div class="ttname"><a href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24aeb39ba5953c0db10891c6f2ebc9f34e4">JCFG_DEBUG_DECODING</a></div><div class="ttdeci">@ JCFG_DEBUG_DECODING</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00352">jcfg.h:352</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a5a77d65f4abba81d4456fa6ba8136e24aec6f8aac6114ae2117bd2e4c77afd05f"><div class="ttname"><a href="jcfg_8h.html#a5a77d65f4abba81d4456fa6ba8136e24aec6f8aac6114ae2117bd2e4c77afd05f">JCFG_INFO_VERBOSE</a></div><div class="ttdeci">@ JCFG_INFO_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00351">jcfg.h:351</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3a4d83952e4a37f56043a07499429d3a0d"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a4d83952e4a37f56043a07499429d3a0d">JCFG_USER_TYPE</a></div><div class="ttdeci">@ JCFG_USER_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00081">jcfg.h:81</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3a6b13fc79fa1e44524da0d618055be656"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a6b13fc79fa1e44524da0d618055be656">JCFG_DEFAULT_TYPE</a></div><div class="ttdeci">@ JCFG_DEFAULT_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00073">jcfg.h:73</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3a8c36b52f98b21296f26c852b89674b5d"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a8c36b52f98b21296f26c852b89674b5d">JCFG_OPTION_TYPE</a></div><div class="ttdeci">@ JCFG_OPTION_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00074">jcfg.h:74</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3a92933a312a35d770b75f95175796be4c"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3a92933a312a35d770b75f95175796be4c">JCFG_THREAD_TYPE</a></div><div class="ttdeci">@ JCFG_THREAD_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00079">jcfg.h:79</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3ab15e56e6c5d92d9e9a6ed4dcbf2230ec"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3ab15e56e6c5d92d9e9a6ed4dcbf2230ec">JCFG_APPLICATION_TYPE</a></div><div class="ttdeci">@ JCFG_APPLICATION_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00072">jcfg.h:72</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3abe7f7a30891a9a80bb1df4191f3c735e"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3abe7f7a30891a9a80bb1df4191f3c735e">JCFG_LPORT_TYPE</a></div><div class="ttdeci">@ JCFG_LPORT_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00077">jcfg.h:77</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3ae731f2698aedf5fe55876a93a0f07f37"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3ae731f2698aedf5fe55876a93a0f07f37">JCFG_LGROUP_TYPE</a></div><div class="ttdeci">@ JCFG_LGROUP_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00078">jcfg.h:78</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3aee3a0248ca83fa6fa4a11cbe7770b420"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3aee3a0248ca83fa6fa4a11cbe7770b420">JCFG_UMEM_TYPE</a></div><div class="ttdeci">@ JCFG_UMEM_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00076">jcfg.h:76</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a748b0ddec315feeb82446e53c2cad7e3afa368ade73075638e08b53456d2b472f"><div class="ttname"><a href="jcfg_8h.html#a748b0ddec315feeb82446e53c2cad7e3afa368ade73075638e08b53456d2b472f">JCFG_LPORT_GROUP_TYPE</a></div><div class="ttdeci">@ JCFG_LPORT_GROUP_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00080">jcfg.h:80</a></div></div>
<div class="ttc" id="ajcfg_8h_html_a8e711f80cbddd80dbbb1e9272985e317"><div class="ttname"><a href="jcfg_8h.html#a8e711f80cbddd80dbbb1e9272985e317">jcfg_lport_region</a></div><div class="ttdeci">CNDP_API char * jcfg_lport_region(jcfg_lport_t *lport, uint32_t *objcnt)</div></div>
<div class="ttc" id="ajcfg__process_8h_html"><div class="ttname"><a href="jcfg__process_8h.html">jcfg_process.h</a></div></div>
<div class="ttc" id="ajcfg__process_8h_html_a18f684a6b94407eaa2c7b6479a4d0cf8"><div class="ttname"><a href="jcfg__process_8h.html#a18f684a6b94407eaa2c7b6479a4d0cf8">jcfg_process</a></div><div class="ttdeci">CNDP_API int jcfg_process(jcfg_info_t *jinfo, int flags, jcfg_parse_cb_t *cb, void *cb_arg)</div></div>
<div class="ttc" id="apktdev__api_8h_html_aefbbc79841de0f4b46c98b682899da4f"><div class="ttname"><a href="pktdev__api_8h.html#aefbbc79841de0f4b46c98b682899da4f">pktdev_port_setup</a></div><div class="ttdeci">CNDP_API int pktdev_port_setup(lport_cfg_t *c)</div></div>
<div class="ttc" id="apktmbuf_8h_html_a05eb9cdb84fce444404b5d17c7b9000a"><div class="ttname"><a href="pktmbuf_8h.html#a05eb9cdb84fce444404b5d17c7b9000a">pktmbuf_info_name_set</a></div><div class="ttdeci">static void pktmbuf_info_name_set(pktmbuf_info_t *pi, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="pktmbuf_8h_source.html#l00555">pktmbuf.h:555</a></div></div>
<div class="ttc" id="apktmbuf_8h_html_ae0718571a50946ff3a9bbf29a3615aaf"><div class="ttname"><a href="pktmbuf_8h.html#ae0718571a50946ff3a9bbf29a3615aaf">pktmbuf_pool_create</a></div><div class="ttdeci">CNDP_API pktmbuf_info_t * pktmbuf_pool_create(char *addr, uint32_t bufcnt, uint32_t bufsz, uint32_t cache_sz, mbuf_ops_t *ops)</div></div>
<div class="ttc" id="apktmbuf_8h_html_afccd240f973cf154952fb917c9209719ac6dba7b154f603f7bf3ba71cda1b7ad6"><div class="ttname"><a href="pktmbuf_8h.html#afccd240f973cf154952fb917c9209719ac6dba7b154f603f7bf3ba71cda1b7ad6">PKTMBUF_INFO_NAME_SZ</a></div><div class="ttdeci">@ PKTMBUF_INFO_NAME_SZ</div><div class="ttdef"><b>Definition:</b> <a href="pktmbuf_8h_source.html#l00058">pktmbuf.h:58</a></div></div>
<div class="ttc" id="astructjcfg__info__s_html"><div class="ttname"><a href="structjcfg__info__s.html">jcfg_info_s</a></div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00337">jcfg.h:337</a></div></div>
<div class="ttc" id="astructjcfg__lgroup_html_a91bb1e9325cf7ed3b748e11b66ce9e18"><div class="ttname"><a href="structjcfg__lgroup.html#a91bb1e9325cf7ed3b748e11b66ce9e18">jcfg_lgroup::lcore_bitmap</a></div><div class="ttdeci">cpu_set_t lcore_bitmap</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00206">jcfg.h:206</a></div></div>
<div class="ttc" id="astructjcfg__lport_html"><div class="ttname"><a href="structjcfg__lport.html">jcfg_lport</a></div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00170">jcfg.h:170</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_a1e87af3c18a2fd36c61faf89949bdc3f"><div class="ttname"><a href="structjcfg__lport.html#a1e87af3c18a2fd36c61faf89949bdc3f">jcfg_lport::flags</a></div><div class="ttdeci">uint16_t flags</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00182">jcfg.h:182</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_a226687372db44df5d4abcdf987b83846"><div class="ttname"><a href="structjcfg__lport.html#a226687372db44df5d4abcdf987b83846">jcfg_lport::busy_budget</a></div><div class="ttdeci">uint16_t busy_budget</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00181">jcfg.h:181</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_a3fa8cc3cca167b6baba4051d9d874d87"><div class="ttname"><a href="structjcfg__lport.html#a3fa8cc3cca167b6baba4051d9d874d87">jcfg_lport::umem</a></div><div class="ttdeci">jcfg_umem_t * umem</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00176">jcfg.h:176</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_a651cf9ab8c76918a36d4680325dd499f"><div class="ttname"><a href="structjcfg__lport.html#a651cf9ab8c76918a36d4680325dd499f">jcfg_lport::busy_timeout</a></div><div class="ttdeci">uint16_t busy_timeout</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00180">jcfg.h:180</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_a70dbee6ff9465a58a53f28c3b0b8492d"><div class="ttname"><a href="structjcfg__lport.html#a70dbee6ff9465a58a53f28c3b0b8492d">jcfg_lport::pmd_opts</a></div><div class="ttdeci">char * pmd_opts</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00174">jcfg.h:174</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_aaa44cfd991dfd49435b9e98988ff2580"><div class="ttname"><a href="structjcfg__lport.html#aaa44cfd991dfd49435b9e98988ff2580">jcfg_lport::netdev</a></div><div class="ttdeci">char * netdev</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00172">jcfg.h:172</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_ab1043824914372d0da6fdffd6100254d"><div class="ttname"><a href="structjcfg__lport.html#ab1043824914372d0da6fdffd6100254d">jcfg_lport::region_idx</a></div><div class="ttdeci">uint16_t region_idx</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00177">jcfg.h:177</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_ace02cbb931375d6cb914c32195e05e6f"><div class="ttname"><a href="structjcfg__lport.html#ace02cbb931375d6cb914c32195e05e6f">jcfg_lport::pmd_name</a></div><div class="ttdeci">char * pmd_name</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00173">jcfg.h:173</a></div></div>
<div class="ttc" id="astructjcfg__lport_html_af1a904eea044da920254226da21ce37b"><div class="ttname"><a href="structjcfg__lport.html#af1a904eea044da920254226da21ce37b">jcfg_lport::qid</a></div><div class="ttdeci">uint16_t qid</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00179">jcfg.h:179</a></div></div>
<div class="ttc" id="astructjcfg__opt_html_a6a65e7225546cff28ca31995d824f508"><div class="ttname"><a href="structjcfg__opt.html#a6a65e7225546cff28ca31995d824f508">jcfg_opt::val</a></div><div class="ttdeci">obj_value_t val</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00140">jcfg.h:140</a></div></div>
<div class="ttc" id="astructjcfg__thd_html_a964ece8138f1339f5a2e693190111fed"><div class="ttname"><a href="structjcfg__thd.html#a964ece8138f1339f5a2e693190111fed">jcfg_thd::thread_type</a></div><div class="ttdeci">char * thread_type</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00215">jcfg.h:215</a></div></div>
<div class="ttc" id="astructjcfg__thd_html_ad0c2c8b05cdeb757fb5c3a542b0566ec"><div class="ttname"><a href="structjcfg__thd.html#ad0c2c8b05cdeb757fb5c3a542b0566ec">jcfg_thd::group</a></div><div class="ttdeci">jcfg_lgroup_t * group</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00216">jcfg.h:216</a></div></div>
<div class="ttc" id="astructjcfg__umem_html"><div class="ttname"><a href="structjcfg__umem.html">jcfg_umem</a></div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00152">jcfg.h:152</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_a03b76209c26a8c940528c27ccd4a4399"><div class="ttname"><a href="structjcfg__umem.html#a03b76209c26a8c940528c27ccd4a4399">jcfg_umem::mm</a></div><div class="ttdeci">mmap_t * mm</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00154">jcfg.h:154</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_a0c5c1e23020e6a7b6456d5bac50cda83"><div class="ttname"><a href="structjcfg__umem.html#a0c5c1e23020e6a7b6456d5bac50cda83">jcfg_umem::bufsz</a></div><div class="ttdeci">uint32_t bufsz</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00156">jcfg.h:156</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_aa2dbca0bed5651852fbe72ed53347628"><div class="ttname"><a href="structjcfg__umem.html#aa2dbca0bed5651852fbe72ed53347628">jcfg_umem::rxdesc</a></div><div class="ttdeci">uint16_t rxdesc</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00158">jcfg.h:158</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_aab8b3484b7ca6e5fdbc6f098d9be7e3d"><div class="ttname"><a href="structjcfg__umem.html#aab8b3484b7ca6e5fdbc6f098d9be7e3d">jcfg_umem::rinfo</a></div><div class="ttdeci">region_info_t rinfo[UMEM_MAX_REGIONS]</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00164">jcfg.h:164</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_ab380511e539f05f71b36046d1b4e40f1"><div class="ttname"><a href="structjcfg__umem.html#ab380511e539f05f71b36046d1b4e40f1">jcfg_umem::bufcnt</a></div><div class="ttdeci">uint32_t bufcnt</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00155">jcfg.h:155</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_ab57fb8ffbe11a35c9f7b4fdf85a518b4"><div class="ttname"><a href="structjcfg__umem.html#ab57fb8ffbe11a35c9f7b4fdf85a518b4">jcfg_umem::txdesc</a></div><div class="ttdeci">uint16_t txdesc</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00159">jcfg.h:159</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_ad749e81bb9c9891e012d6efd1a677ce1"><div class="ttname"><a href="structjcfg__umem.html#ad749e81bb9c9891e012d6efd1a677ce1">jcfg_umem::shared_umem</a></div><div class="ttdeci">uint16_t shared_umem</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00161">jcfg.h:161</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_adc9239a3a9e782a52ae58fd7b074d86d"><div class="ttname"><a href="structjcfg__umem.html#adc9239a3a9e782a52ae58fd7b074d86d">jcfg_umem::mtype</a></div><div class="ttdeci">uint16_t mtype</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00157">jcfg.h:157</a></div></div>
<div class="ttc" id="astructjcfg__umem_html_af2ff8bd84ac49642ff923abee2ed6056"><div class="ttname"><a href="structjcfg__umem.html#af2ff8bd84ac49642ff923abee2ed6056">jcfg_umem::region_cnt</a></div><div class="ttdeci">uint16_t region_cnt</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00163">jcfg.h:163</a></div></div>
<div class="ttc" id="astructobj__value_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="structobj__value.html#ab50d783982593ef993ea0b68f7ad8b80">obj_value::str</a></div><div class="ttdeci">char * str</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00108">jcfg.h:108</a></div></div>
<div class="ttc" id="astructobj__value_html_ac01d03f13d89516a74109985c4240655"><div class="ttname"><a href="structobj__value.html#ac01d03f13d89516a74109985c4240655">obj_value::type</a></div><div class="ttdeci">obj_type_t type</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00102">jcfg.h:102</a></div></div>
<div class="ttc" id="astructobj__value_html_afc58e0c0df35925913174accbf1114cb"><div class="ttname"><a href="structobj__value.html#afc58e0c0df35925913174accbf1114cb">obj_value::boolean</a></div><div class="ttdeci">int boolean</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00106">jcfg.h:106</a></div></div>
<div class="ttc" id="astructpktmbuf__info__s_html"><div class="ttname"><a href="structpktmbuf__info__s.html">pktmbuf_info_s</a></div><div class="ttdef"><b>Definition:</b> <a href="pktmbuf_8h_source.html#l00067">pktmbuf.h:67</a></div></div>
<div class="ttc" id="aunionjcfg__obj__t_html"><div class="ttname"><a href="unionjcfg__obj__t.html">jcfg_obj_t</a></div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00303">jcfg.h:303</a></div></div>
<div class="ttc" id="aunionjcfg__obj__t_html_a08321cc685abbe26d18986c3022c9f0b"><div class="ttname"><a href="unionjcfg__obj__t.html#a08321cc685abbe26d18986c3022c9f0b">jcfg_obj_t::opt</a></div><div class="ttdeci">jcfg_opt_t * opt</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00307">jcfg.h:307</a></div></div>
<div class="ttc" id="aunionjcfg__obj__t_html_a31493aa8f126a2a71a01dacb6a4d3c3b"><div class="ttname"><a href="unionjcfg__obj__t.html#a31493aa8f126a2a71a01dacb6a4d3c3b">jcfg_obj_t::thd</a></div><div class="ttdeci">jcfg_thd_t * thd</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00311">jcfg.h:311</a></div></div>
<div class="ttc" id="aunionjcfg__obj__t_html_a3fa8cc3cca167b6baba4051d9d874d87"><div class="ttname"><a href="unionjcfg__obj__t.html#a3fa8cc3cca167b6baba4051d9d874d87">jcfg_obj_t::umem</a></div><div class="ttdeci">jcfg_umem_t * umem</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00308">jcfg.h:308</a></div></div>
<div class="ttc" id="aunionjcfg__obj__t_html_a7cc351d31e13b3f51e76e7c3728e83a5"><div class="ttname"><a href="unionjcfg__obj__t.html#a7cc351d31e13b3f51e76e7c3728e83a5">jcfg_obj_t::hdr</a></div><div class="ttdeci">jcfg_hdr_t * hdr</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00304">jcfg.h:304</a></div></div>
<div class="ttc" id="aunionjcfg__obj__t_html_aa7e2bb375b43c16741ab7287608539c0"><div class="ttname"><a href="unionjcfg__obj__t.html#aa7e2bb375b43c16741ab7287608539c0">jcfg_obj_t::lport</a></div><div class="ttdeci">jcfg_lport_t * lport</div><div class="ttdef"><b>Definition:</b> <a href="jcfg_8h_source.html#l00309">jcfg.h:309</a></div></div>
<div class="ttc" id="axskdev_8h_html_a1358aa0619cfd313b8f6e83a60ab2413"><div class="ttname"><a href="xskdev_8h.html#a1358aa0619cfd313b8f6e83a60ab2413">xskdev_socket_create</a></div><div class="ttdeci">CNDP_API xskdev_info_t * xskdev_socket_create(struct lport_cfg *c)</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
